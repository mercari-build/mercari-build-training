FROM python:3.10-alpine

RUN addgroup -S mercari && adduser -S trainee -G mercari
RUN chown -R trainee:mercari /db

WORKDIR /app
COPY ./app/
RUN mv app/db
USER hanamoriguchi

RUN pip install -r requirements.txt

CMD /home/hanamoriguchi/.local/bin/uvicorn main:app --reload --port 9000
