FROM python:3.9-slim

WORKDIR /app

COPY python/requirements.txt requirements.txt
RUN pip3 install -r requirements.txt

COPY db/ /app/db
COPY python/ /app/python
COPY images/ /app/images

EXPOSE 9000

# 5-5 Change Dockerfile
# CMD [ "python3", "-V"]

# 5-6 API
CMD ["uvicorn", "python.main:app", "--host", "0.0.0.0", "--port", "9000"]
# the host should not be "127.0.0.1"